{% extends "edc_dashboard/listboard.html" %}
{% load admin_urls %}
{% load edc_base_extras %}
{% load edc_dashboard_extras %}

{% load tz %}
{% load static %}
{% load crispy_forms_tags %}


{% block alert %}

    {% if messages %}
        {% for message in messages %}
            {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
            <div class="alert alert-danger alert-dismissable fade in">
            <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>           
              <i class="fa fa-hand-stop-o fa-lg"></i> {{ message }}
            </div>
            {% endif %}
            {% if message.level == DEFAULT_MESSAGE_LEVELS.WARNING %}
            <div class="alert alert-warning alert-dismissable fade in">
            <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>           
              <i class="fa fa-hand-stop-o fa-lg"></i> {{ message }}
            </div>
            {% endif %}
            {% if message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
            <div class="alert alert-success alert-dismissable fade in">
            <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>           
              <i class="fa fa-thumbs-o-up fa-lg"></i> {{ message }}
            </div>
            {% endif %}
            {% if message.level == DEFAULT_MESSAGE_LEVELS.INFO %}
            <div class="alert alert-info alert-dismissable fade in">
            <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>           
              <i class="fa fa-hand-stop-o fa-lg"></i> {{ message }}
            </div>
            {% endif %}
        {% endfor %}
    {% endif %}

{% endblock alert %}

{% block main %}
{% block extra_content%}
	<br>
<div class="panel panel-info">
  <div class="panel-heading">
      <div class="panel-body">
       <!-- begin panel_action_buttons -->
        <span class="glyphicon glyphicon-ok-sign"></span> Done <span class="badge">{{done}}</span> / <span class="badge">{{total_bookings}}</span>
        <span class="glyphicon glyphicon-adjust"></span> Pending <span class="badge">{{pending}}</span> / <span class="badge">{{total_bookings}}</span>
        <span class="glyphicon glyphicon-remove"></span> Cancelled <span class="badge">{{cancelled}}</span> / <span class="badge">{{total_bookings}}</span>
        <a class="btn btn-primary btn-sm" href="{% url 'flourish_follow:flourish_follow_booking_listboard_url' %}" role="button">booking cards</a>
        &nbsp;&nbsp;
        <hr>
       <!-- end panel_action_buttons -->  
	       		<table class="table table-hover">
				  <thead>
				    <tr>
				      <th scope="col">#</th>
				      <th scope="col">Booking days</th>
				      <th scope="col">Total booked</th>
				      <th scope="col">Done</th>
				      <th scope="col">Pending</th>
				      <th scope="col">Cancelled</th>
				    </tr>
				  </thead>
				  <tbody>
				    <tr>
				      <th scope="row">1</th>
				      <td>Today</td>
				      <td>{{ booked_today }}</td>
				      <td>{{ booked_today_done }}</td>
				      <td>{{ booked_today_pending }}</td>
				      <td>{{ booked_today_cancelled }}</td>
				    </tr>
				    <tr>
				      <th scope="row">2</th>
				      <td>Tomorrow</td>
				      <td>{{ booked_tomorrow }}</td>
				      <td>{{ booked_tomorrow_done }}</td>
				      <td>{{ booked_tomorrow_pending }}</td>
				      <td>{{ booked_tomorrow_cancelled }}</td>
				    </tr>
				    <tr>
				      <th scope="row">2</th>
				      <td>This Week</td>
				      <td>{{ booked_this_week }}</td>
				      <td>{{ booked_this_week_done }}</td>
				      <td>{{ booked_this_week_pending }}</td>
				      <td>{{ booked_this_week_cancelled }}</td>
				    </tr>
				  </tbody>
				</table>
      </div>
  </div>
</div>
{% endblock extra_content %}
<div class="container">
<div class="row">
    <div class="panel-group">
            <div class="panel panel-info">
                <div class="panel-heading">
				<span class="pull-right">{% include 'edc_dashboard/search_form.html' %}</span>
				<span class="pull-right">{% include 'flourish_follow/forms.html' %}</span>
                    {% block panel_action_form %}
						 <div class="form-inline">
						
						   <!-- begin panel_action_buttons -->
					        <span class="glyphicon glyphicon-phone-alt"></span> Called <span class="badge">{{called_subject}}</span> / <span class="badge">{{total_results}}</span>
					        <span class="glyphicon glyphicon-home"></span> Visited <span class="badge">{{visited_subjects}}</span> / <span class="badge">{{total_results}}</span>
					        &nbsp;&nbsp;
					        <span class="glyphicon glyphicon-user"></span> Total available for randomization <span class="badge">{{total_available}}</span>
					       <!-- end panel_action_buttons -->
					       
						</div>
					{% endblock panel_action_form %}
				</div>
                </div>
                <div class="table table-responsive">
                    <table class="table table-condensed table-hover small">
                    <thead>

                        {% include 'flourish_follow/listboard/results_header.html' %}

			        </thead>
			        <tbody>

                    {% include 'flourish_follow/listboard/results_body.html' %}

			         </tbody>
			         </table>
                    <!-- begin spacer rows -->
                    <table>
                    <tr><td>&nbsp;</td></tr>
                    <tr><td>&nbsp;</td></tr>
                    <tr><td>&nbsp;</td></tr>
                    <tr><td>&nbsp;</td></tr>
                    <tr><td>&nbsp;</td></tr>
                    </table>
                    <!-- end spacer rows -->
                </div><!-- end table -->
           {% paginator_row %}
        </div><!--end panel-group -->
      </div>
</div> 

{% endblock main %}